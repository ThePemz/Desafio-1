/* C++ code

*/
#include <Adafruit_LiquidCrystal.h>

Adafruit_LiquidCrystal lcd(0);//Inicializar el LCD usando su libreria.
int butAcq=2, butSeeInf=4, sign=A0;//Inicializar los pines de entrada en variables para su respectivo uso.
float max=0, min=0;//Inicializar variables de pico.
bool acquisition = false;//Inicializar variables de adquisicion.

void setup(){
  Serial.begin(9600);//Configural el serial.
  
  pinMode(butAcq,INPUT);//Configurar como una entrada al boton.
  pinMode(butSeeInf, INPUT);//Configurar como una entrada al boton.
  
  lcd.begin(16, 2);//Configurar las casillas del lcd.
}

void loop(){
  if (digitalRead(butAcq) == HIGH) acquisition = !acquisition; delay(200);//Condicional para iniciar/terminar la adquisicion.
  
  if(acquisition){
    //Convertir la seÃ±al obtenida en voltaje
    float vol = analogRead(sign)*(5.0/1023);

    if(vol>max) max=vol; //Condicional para encontrar el voltaje maximo.

    if(vol<min) min=vol; //Condicional para encontrar el voltaje minimo.
    
    Serial.print(vol);
	Serial.print("v, ---- min: ");
	Serial.print(min);
	Serial.print(" ---- max: ");
	Serial.println(max);
  }
}